<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_037rvpt" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.8.1">
  <bpmn:collaboration id="Collaboration_16ikafs">
    <bpmn:participant id="Participant_1stwjmk" name="Klient" processRef="CAR_DEALERSHIP_KLIENT" />
    <bpmn:participant id="Participant_019rtvj" name="Salon samochodowy" processRef="CAR_DEALERSHIP_SALON" />
    <bpmn:participant id="Participant_1p8kbk3" name="Fabryka" processRef="CAR_DEALERSHIP_FACTORY" />
    <bpmn:messageFlow id="Flow_1uuc7ou" sourceRef="Activity_1eoly0v" targetRef="Fabryka_Start" />
    <bpmn:messageFlow id="Flow_18xshp5" sourceRef="Fabryka_WyslanieInformacjiDoSalonu" targetRef="Event_1b01djz" />
    <bpmn:messageFlow id="Flow_0mex7uu" sourceRef="Klient_WyslanieZamowienia" targetRef="Salon_Start" />
    <bpmn:messageFlow id="Flow_0hupi12" sourceRef="Event_0kxyq8d" targetRef="Salon_OdebranieSamochodu_Message" />
    <bpmn:messageFlow id="Flow_1qy2p1l" sourceRef="Salon_WyslanieInfoDoKlienta" targetRef="Klient_OczekiwanieNaZamowienie" />
  </bpmn:collaboration>
  <bpmn:process id="CAR_DEALERSHIP_KLIENT" name="Car Dealership (Klient)" isExecutable="true">
    <bpmn:userTask id="Klient_OdebranieSamochodu" name="Potwierdź: Odebranie samochodu" camunda:formKey="taskView" camunda:assignee="${orderData.client}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="feedbackFromClient" label="Opinia o zamówieniu" type="string">
            <camunda:properties>
              <camunda:property id="fieldType" value="textArea" />
              <camunda:property id="numRows" value="3" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener delegateExpression="${orderComplete}" event="complete" id="OrderComplete" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0p54urb</bpmn:incoming>
      <bpmn:outgoing>Flow_1z0cv6z</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="Event_13ynu74" name="Rozpoczęcie zamówienia">
      <bpmn:outgoing>Flow_1acdvot</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="Klient_ZlozenieZamowienia" name="Złożenie zamówienia" camunda:assignee="${assignee}">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="orderData">${orderData}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10g07bx</bpmn:incoming>
      <bpmn:outgoing>Flow_06mjwsu</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sendTask id="Klient_WyslanieZamowienia" name="Wysłanie zamówienia" camunda:delegateExpression="${sendMessageDelegate}">
      <bpmn:extensionElements>
        <camunda:field name="messageName">
          <camunda:string>AskDealershipMessage</camunda:string>
        </camunda:field>
        <camunda:field name="startProcess">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="newOrderStatus">
          <camunda:string>SentToDealership</camunda:string>
        </camunda:field>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_06mjwsu</bpmn:incoming>
      <bpmn:outgoing>Flow_1deqyxk</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:startEvent id="Klient_Zaliczka_Start" name="Prośba o wpłatę zaliczki">
      <bpmn:outgoing>Flow_1vpklme</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_181o7lv" messageRef="Message_1e90ev6" />
    </bpmn:startEvent>
    <bpmn:endEvent id="Klient_Zaliczka_Koniec" name="Wpłacenie zaliczki">
      <bpmn:incoming>Flow_1f2n8i8</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0ycmox4" messageRef="Message_1lercw1" camunda:delegateExpression="${sendMessageDelegate}" />
    </bpmn:endEvent>
    <bpmn:userTask id="Klient_ZaplacZaliczke" name="Zatwierdź: Zapłacenie zaliczki" camunda:assignee="${orderData.client}">
      <bpmn:incoming>Flow_1vpklme</bpmn:incoming>
      <bpmn:outgoing>Flow_1f2n8i8</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:subProcess id="Klient_Konfiguracja" name="Konfiguracja">
      <bpmn:incoming>Flow_1acdvot</bpmn:incoming>
      <bpmn:outgoing>Flow_10g07bx</bpmn:outgoing>
      <bpmn:sequenceFlow id="Flow_0z0inah" sourceRef="Klient_Konfiguracja_Model" targetRef="Klient_Konfiguracja_Silnik" />
      <bpmn:sequenceFlow id="Flow_0wyqfm4" sourceRef="Klient_Konfiguracja_Silnik" targetRef="Klient_Konfiguracja_TypNadwozia" />
      <bpmn:sequenceFlow id="Flow_0ji1hqm" sourceRef="Klient_Konfiguracja_TypNadwozia" targetRef="Klient_Konfiguracja_SkrzyniaBiegow" />
      <bpmn:sequenceFlow id="Flow_0dkx2f6" sourceRef="Klient_Konfiguracja_SkrzyniaBiegow" targetRef="Klient_Konfiguracja_WyposazenieDodatkowe" />
      <bpmn:startEvent id="Event_1yyhf9t">
        <bpmn:outgoing>Flow_1v6tyn2</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_1v6tyn2" sourceRef="Event_1yyhf9t" targetRef="Klient_Konfiguracja_Model" />
      <bpmn:endEvent id="Event_1ejmm5y">
        <bpmn:incoming>Flow_0t4s1fg</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0t4s1fg" sourceRef="Klient_Konfiguracja_WyposazenieDodatkowe" targetRef="Event_1ejmm5y" />
      <bpmn:userTask id="Klient_Konfiguracja_Model" name="Model" camunda:assignee="${assignee}">
        <bpmn:incoming>Flow_1v6tyn2</bpmn:incoming>
        <bpmn:outgoing>Flow_0z0inah</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Klient_Konfiguracja_Silnik" name="Silnik" camunda:assignee="${assignee}">
        <bpmn:incoming>Flow_0z0inah</bpmn:incoming>
        <bpmn:outgoing>Flow_0wyqfm4</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Klient_Konfiguracja_TypNadwozia" name="Typ nadowzia" camunda:assignee="${assignee}">
        <bpmn:incoming>Flow_0wyqfm4</bpmn:incoming>
        <bpmn:outgoing>Flow_0ji1hqm</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Klient_Konfiguracja_SkrzyniaBiegow" name="Skrzynia biegów" camunda:assignee="${assignee}">
        <bpmn:incoming>Flow_0ji1hqm</bpmn:incoming>
        <bpmn:outgoing>Flow_0dkx2f6</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Klient_Konfiguracja_WyposazenieDodatkowe" name="Wyposażenie dodatkowe" camunda:assignee="${assignee}">
        <bpmn:incoming>Flow_0dkx2f6</bpmn:incoming>
        <bpmn:outgoing>Flow_0t4s1fg</bpmn:outgoing>
      </bpmn:userTask>
    </bpmn:subProcess>
    <bpmn:receiveTask id="Klient_OczekiwanieNaZamowienie" name="Oczekiwanie na zamówienie" messageRef="WaitingForCollection">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${receiveMessageClientService}" event="end" />
        <camunda:inputOutput>
          <camunda:outputParameter name="assignee">${orderData.client}</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1deqyxk</bpmn:incoming>
      <bpmn:outgoing>Flow_0p54urb</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:endEvent id="Klient_Zakonczenie" name="Zamknięcie zamówienia">
      <bpmn:incoming>Flow_1z0cv6z</bpmn:incoming>
      <bpmn:incoming>Flow_062qcqg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="Klient_OdebranieOdrzucenia" name="Odebranie odrzucenia zamówienia" attachedToRef="Klient_OczekiwanieNaZamowienie">
      <bpmn:outgoing>Flow_062qcqg</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0v887h6" messageRef="OrderReject" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0p54urb" sourceRef="Klient_OczekiwanieNaZamowienie" targetRef="Klient_OdebranieSamochodu" />
    <bpmn:sequenceFlow id="Flow_1acdvot" sourceRef="Event_13ynu74" targetRef="Klient_Konfiguracja" />
    <bpmn:sequenceFlow id="Flow_10g07bx" sourceRef="Klient_Konfiguracja" targetRef="Klient_ZlozenieZamowienia" />
    <bpmn:sequenceFlow id="Flow_06mjwsu" sourceRef="Klient_ZlozenieZamowienia" targetRef="Klient_WyslanieZamowienia" />
    <bpmn:sequenceFlow id="Flow_1z0cv6z" sourceRef="Klient_OdebranieSamochodu" targetRef="Klient_Zakonczenie" />
    <bpmn:sequenceFlow id="Flow_1deqyxk" sourceRef="Klient_WyslanieZamowienia" targetRef="Klient_OczekiwanieNaZamowienie" />
    <bpmn:sequenceFlow id="Flow_062qcqg" sourceRef="Klient_OdebranieOdrzucenia" targetRef="Klient_Zakonczenie" />
    <bpmn:sequenceFlow id="Flow_1vpklme" sourceRef="Klient_Zaliczka_Start" targetRef="Klient_ZaplacZaliczke" />
    <bpmn:sequenceFlow id="Flow_1f2n8i8" sourceRef="Klient_ZaplacZaliczke" targetRef="Klient_Zaliczka_Koniec" />
  </bpmn:process>
  <bpmn:process id="CAR_DEALERSHIP_SALON" name="Car Dealership (Salon)" isExecutable="true">
    <bpmn:endEvent id="Salon_WyslanieInfoDoKlienta" name="Wysłanie informacji do klienta">
      <bpmn:incoming>Flow_0m10n9h</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0bj9i2w" messageRef="WaitingForCollection" camunda:delegateExpression="${sendMessageDelegate}">
        <bpmn:extensionElements>
          <camunda:field name="messageName">
            <camunda:string>WaitingForCollectionMessage</camunda:string>
          </camunda:field>
          <camunda:field name="startProcess">
            <camunda:string>false</camunda:string>
          </camunda:field>
          <camunda:field name="newOrderStatus">
            <camunda:string>WaitingForCollection</camunda:string>
          </camunda:field>
          <camunda:field name="correlateProcessInstanceVar">
            <camunda:string>clientProcessId</camunda:string>
          </camunda:field>
        </bpmn:extensionElements>
      </bpmn:messageEventDefinition>
    </bpmn:endEvent>
    <bpmn:userTask id="Salon_GotoweDoOdbioru" name="Zatwierdź: Gotowe do odbioru" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="informationForCustomer" label="Informacje dla zamawiajacego" type="string" defaultValue="Samochód gotowy do odbioru.">
            <camunda:properties>
              <camunda:property id="fieldType" value="textArea" />
              <camunda:property id="numRows" value="5" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener delegateExpression="${waitingForCollection}" event="complete" id="WaitingForCollection" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0nlezkx</bpmn:incoming>
      <bpmn:outgoing>Flow_0m10n9h</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:intermediateThrowEvent id="Salon_PowiadomienieZaliczka" name="Powiadomienie o zaliczce">
      <bpmn:incoming>Flow_1mndl2w</bpmn:incoming>
      <bpmn:outgoing>Flow_1ict2hd</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_08umx5z" messageRef="Message_1e90ev6" camunda:delegateExpression="${sendMessageDelegate}">
        <bpmn:extensionElements>
          <camunda:field name="messageName">
            <camunda:string>AdvancePaymentNotificationMessage</camunda:string>
          </camunda:field>
          <camunda:field name="startProcess">
            <camunda:string>true</camunda:string>
          </camunda:field>
          <camunda:field name="correlateProcessInstanceVar">
            <camunda:string>clientProcessId</camunda:string>
          </camunda:field>
        </bpmn:extensionElements>
      </bpmn:messageEventDefinition>
    </bpmn:intermediateThrowEvent>
    <bpmn:receiveTask id="Salon_OdebranieZaliczki" name="Odebranie zaliczki" messageRef="Message_1lercw1">
      <bpmn:incoming>Flow_1ict2hd</bpmn:incoming>
      <bpmn:outgoing>Flow_0tq4ocz</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:exclusiveGateway id="Gateway_0osccbx" name="Czy samochód dostępny w innym salonie?">
      <bpmn:incoming>Flow_0tq4ocz</bpmn:incoming>
      <bpmn:outgoing>Flow_193hndg</bpmn:outgoing>
      <bpmn:outgoing>Flow_1or79a1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Salon_ZlozenieZamowienia" name="Wyślij zamówienie do fabryki" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="messageToFactory" label="Dodatkowe informacje dla fabryki" type="string">
            <camunda:properties>
              <camunda:property id="fieldType" value="textArea" />
              <camunda:property id="numRows" value="3" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1or79a1</bpmn:incoming>
      <bpmn:outgoing>Flow_10l6mti</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Salon_RezerwacjaSamoochodu" name="Zarezerwuj samochód w innym salonie" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="annotation" label="Adnotacje" type="string">
            <camunda:properties>
              <camunda:property id="fieldType" value="textArea" />
              <camunda:property id="numRows" value="3" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener delegateExpression="${inProcess}" event="complete" id="InProcess" />
        <camunda:inputOutput>
          <camunda:inputParameter name="isAdvancePayment">true</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_193hndg</bpmn:incoming>
      <bpmn:outgoing>Flow_0p0u6lg</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Salon_PrzygotowanieDoTransportu" name="Zatwierdź: Samochód gotowy do transportu" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:incoming>Flow_0p0u6lg</bpmn:incoming>
      <bpmn:outgoing>Flow_1ihxqnq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Salon_TransportSamochodu" name="Zatwierdź: Transport samochodu" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:taskListener delegateExpression="${inTransport}" event="create" id="InTransport" />
        <camunda:formData>
          <camunda:formField id="transportAnnotation" label="Adnotacje" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ihxqnq</bpmn:incoming>
      <bpmn:outgoing>Flow_01bws94</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Salon_PrzygotowanieSamochodu" name="Przygotowanie samochodu do wydania" camunda:delegateExpression="${preparationForCollection}">
      <bpmn:incoming>Flow_0xqlx9v</bpmn:incoming>
      <bpmn:incoming>Flow_0xzmmgl</bpmn:incoming>
      <bpmn:outgoing>Flow_0nlezkx</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:receiveTask id="Salon_OdebranieSamochodu_Message" name="Odebranie samochodu" messageRef="TransportFromFactory">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${receiveCarFromFactoryService}" event="end" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1jsrejh</bpmn:incoming>
      <bpmn:outgoing>Flow_0smc25g</bpmn:outgoing>
    </bpmn:receiveTask>
    <bpmn:userTask id="Salon_KontrolaJakosci" name="Wykonaj: Kontrola jakości" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="comments" label="Komentarz do kontroli" type="string" defaultValue="Brak uwag">
            <camunda:properties>
              <camunda:property id="filedType" value="textArea" />
              <camunda:property id="numRows" value="5" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener delegateExpression="${dealershipControlQuality}" event="complete" id="DealershipControlQuality" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_01bws94</bpmn:incoming>
      <bpmn:incoming>Flow_13ppjxs</bpmn:incoming>
      <bpmn:outgoing>Flow_0xzmmgl</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Salon_OdebranieSamochodu" name="Potwierdź odbiór samochodu z fabryki" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:incoming>Flow_0smc25g</bpmn:incoming>
      <bpmn:outgoing>Flow_13ppjxs</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_040mdww" name="Czy możliwa produkcja w fabryce?">
      <bpmn:incoming>Flow_04a333u</bpmn:incoming>
      <bpmn:outgoing>Flow_1jsrejh</bpmn:outgoing>
      <bpmn:outgoing>Flow_0y9ufqj</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Salon_OdrzucenieZamwoienia" name="Zatwierdź: Odrzucenie zamówienia" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:taskListener delegateExpression="${dealershipOrderReject}" event="complete" id="DealershipOrderReject" />
        <camunda:formData>
          <camunda:formField id="rejectMessage" label="Wiadomość do klienta (powód odrzucenia)" type="string" defaultValue="Brak dostępnego modelu lub wariantu" />
        </camunda:formData>
        <camunda:inputOutput>
          <camunda:inputParameter name="cancellationRequestCreator">factory</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0y9ufqj</bpmn:incoming>
      <bpmn:outgoing>Flow_1mvzxsi</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sendTask id="Activity_1eoly0v" name="Wysłanie zamówienia do fabryki" camunda:delegateExpression="${sendMessageDelegate}">
      <bpmn:extensionElements>
        <camunda:field name="messageName">
          <camunda:string>AskFactoryMessage</camunda:string>
        </camunda:field>
        <camunda:field name="startProcess">
          <camunda:string>true</camunda:string>
        </camunda:field>
        <camunda:field name="newOrderStatus">
          <camunda:string>SentToFactory</camunda:string>
        </camunda:field>
        <camunda:executionListener delegateExpression="${sendMessageToFactory}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10l6mti</bpmn:incoming>
      <bpmn:outgoing>Flow_1kvzjtj</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:startEvent id="Salon_Start" name="Odebranie zamówienia">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${runDealershipService}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0hxzd24</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1ldh4ug" messageRef="AskDealership" />
    </bpmn:startEvent>
    <bpmn:userTask id="Salon_Przyjecie" name="Zatwierdź: Przyjęcie zamówienia" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="carAvailable" label="Czy samochód dostępny w salonie?" type="boolean" defaultValue="true" />
          <camunda:formField id="carAvailableInOtherDealership" label="Czy samochód dostępny w innym salonie?" type="boolean" defaultValue="true" />
        </camunda:formData>
        <camunda:properties>
          <camunda:property />
        </camunda:properties>
        <camunda:taskListener delegateExpression="${orderAcceptance}" event="complete" id="OrderAcceptance" />
        <camunda:inputOutput>
          <camunda:inputParameter name="cancellationRequestCreator">client</camunda:inputParameter>
          <camunda:inputParameter name="isAdvancePayment">false</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0hxzd24</bpmn:incoming>
      <bpmn:outgoing>Flow_1bbohxe</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Salon_CzySamochodDostepnyWSalonie" name="Czy samochód dostępny w salonie?">
      <bpmn:incoming>Flow_1bbohxe</bpmn:incoming>
      <bpmn:outgoing>Flow_0xqlx9v</bpmn:outgoing>
      <bpmn:outgoing>Flow_1mndl2w</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:subProcess id="Salon_Anulowanie" name="Obsługa anulowania zamówienia">
      <bpmn:incoming>Flow_1mvzxsi</bpmn:incoming>
      <bpmn:incoming>Flow_16zxbp5</bpmn:incoming>
      <bpmn:incoming>Flow_051sr0h</bpmn:incoming>
      <bpmn:incoming>Flow_0lqo2p5</bpmn:incoming>
      <bpmn:startEvent id="Anulowanie_Start">
        <bpmn:outgoing>Flow_1nzq1xe</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_1nzq1xe" sourceRef="Anulowanie_Start" targetRef="Anulowanie_Gateway1" />
      <bpmn:parallelGateway id="Anulowanie_Gateway1">
        <bpmn:incoming>Flow_1nzq1xe</bpmn:incoming>
        <bpmn:outgoing>Flow_12rjhds</bpmn:outgoing>
        <bpmn:outgoing>Flow_0ktakcs</bpmn:outgoing>
      </bpmn:parallelGateway>
      <bpmn:exclusiveGateway id="Anulowanie_Gateway2" name="Czy samochód w produkcji?">
        <bpmn:incoming>Flow_12rjhds</bpmn:incoming>
        <bpmn:outgoing>Flow_136fgwk</bpmn:outgoing>
        <bpmn:outgoing>Flow_0ec1ub9</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_12rjhds" sourceRef="Anulowanie_Gateway1" targetRef="Anulowanie_Gateway2" />
      <bpmn:exclusiveGateway id="Anulowanie_Gateway3" name="Na czyj wniosek?">
        <bpmn:incoming>Flow_0ktakcs</bpmn:incoming>
        <bpmn:outgoing>Flow_08lrkwj</bpmn:outgoing>
        <bpmn:outgoing>Flow_1sq3vk8</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_0ktakcs" sourceRef="Anulowanie_Gateway1" targetRef="Anulowanie_Gateway3" />
      <bpmn:exclusiveGateway id="Anulowanie_Gateway4" name="Czy wpłacono zaliczkę?">
        <bpmn:incoming>Flow_08lrkwj</bpmn:incoming>
        <bpmn:outgoing>Flow_0htd62w</bpmn:outgoing>
        <bpmn:outgoing>Flow_1ndxxq6</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_08lrkwj" name="Fabryka/Salon" sourceRef="Anulowanie_Gateway3" targetRef="Anulowanie_Gateway4">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cancellationRequestCreator != 'client'}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:endEvent id="Anulowanie_Koniec">
        <bpmn:incoming>Flow_1sq3vk8</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1sq3vk8" name="Klient" sourceRef="Anulowanie_Gateway3" targetRef="Anulowanie_Koniec">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${cancellationRequestCreator == 'client'}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0htd62w" name="Tak&#10;&#10;" sourceRef="Anulowanie_Gateway4" targetRef="Anulowanie_ZwrotZaliczki">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{isAdvancePayment}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1x4bs0v" sourceRef="Anulowanie_ZwrotZaliczki" targetRef="Anulowanie_WiadomoscKlient" />
      <bpmn:sequenceFlow id="Flow_1ndxxq6" name="Nie&#10;&#10;" sourceRef="Anulowanie_Gateway4" targetRef="Anulowanie_WiadomoscKlient">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not isAdvancePayment}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_136fgwk" name="Tak&#10;&#10;" sourceRef="Anulowanie_Gateway2" targetRef="Anulowanie_WiadomoscFabryka">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{isCarInProduction}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:endEvent id="Anulowanie_WiadomoscFabryka" name="Wysłanie anulowania do fabryki">
        <bpmn:incoming>Flow_136fgwk</bpmn:incoming>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0try45f" messageRef="Message_18q60mk" camunda:delegateExpression="${sendMessageDelegate}">
          <bpmn:extensionElements>
            <camunda:field name="messageName">
              <camunda:string>CancellationForFactoryMessage</camunda:string>
            </camunda:field>
            <camunda:field name="startProcess">
              <camunda:string>false</camunda:string>
            </camunda:field>
            <camunda:field name="correlateProcessInstanceVar">
              <camunda:string>factoryProcessId</camunda:string>
            </camunda:field>
          </bpmn:extensionElements>
        </bpmn:messageEventDefinition>
      </bpmn:endEvent>
      <bpmn:userTask id="Anulowanie_ZwrotZaliczki" name="Wykonaj: Zwrot zaliczki" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
        <bpmn:incoming>Flow_0htd62w</bpmn:incoming>
        <bpmn:outgoing>Flow_1x4bs0v</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:endEvent id="Anulowanie_WiadomoscKlient" name="Wyślij anulowanie do klienta">
        <bpmn:incoming>Flow_1x4bs0v</bpmn:incoming>
        <bpmn:incoming>Flow_1ndxxq6</bpmn:incoming>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0l2zsec" messageRef="OrderReject" camunda:delegateExpression="${sendMessageDelegate}">
          <bpmn:extensionElements>
            <camunda:field name="messageName">
              <camunda:string>OrderRejectMessage</camunda:string>
            </camunda:field>
            <camunda:field name="startProcess">
              <camunda:string>false</camunda:string>
            </camunda:field>
            <camunda:field name="newOrderStatus">
              <camunda:string>Rejected</camunda:string>
            </camunda:field>
            <camunda:field name="correlateProcessInstanceVar">
              <camunda:string>clientProcessId</camunda:string>
            </camunda:field>
          </bpmn:extensionElements>
        </bpmn:messageEventDefinition>
      </bpmn:endEvent>
      <bpmn:endEvent id="Event_07z3rbd">
        <bpmn:incoming>Flow_0ec1ub9</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_0ec1ub9" name="Nie" sourceRef="Anulowanie_Gateway2" targetRef="Event_07z3rbd">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not isCarInProduction}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:boundaryEvent id="Salon_mAnulowanie1" name="Anulowanie (klient)" attachedToRef="Salon_Przyjecie">
      <bpmn:outgoing>Flow_0lqo2p5</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1dyang0" messageRef="Message_0per3tu" />
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Salon_Timer1" name="max 30 min" attachedToRef="Salon_OdebranieZaliczki">
      <bpmn:outgoing>Flow_16zxbp5</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_10xdvrp">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT30M</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:boundaryEvent id="Salon_mAnulowanie2" name="Anulowanie (klient)" attachedToRef="Salon_OdebranieZaliczki">
      <bpmn:outgoing>Flow_051sr0h</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1cl3mam" messageRef="Message_0per3tu" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0lqo2p5" sourceRef="Salon_mAnulowanie1" targetRef="Salon_Anulowanie" />
    <bpmn:sequenceFlow id="Flow_051sr0h" sourceRef="Salon_mAnulowanie2" targetRef="Salon_Anulowanie" />
    <bpmn:sequenceFlow id="Flow_16zxbp5" sourceRef="Salon_Timer1" targetRef="Salon_Anulowanie" />
    <bpmn:sequenceFlow id="Flow_1ict2hd" sourceRef="Salon_PowiadomienieZaliczka" targetRef="Salon_OdebranieZaliczki" />
    <bpmn:sequenceFlow id="Flow_1mvzxsi" sourceRef="Salon_OdrzucenieZamwoienia" targetRef="Salon_Anulowanie" />
    <bpmn:sequenceFlow id="Flow_1kvzjtj" sourceRef="Activity_1eoly0v" targetRef="Event_1b01djz" />
    <bpmn:sequenceFlow id="Flow_10l6mti" sourceRef="Salon_ZlozenieZamowienia" targetRef="Activity_1eoly0v" />
    <bpmn:sequenceFlow id="Flow_04a333u" sourceRef="Event_1b01djz" targetRef="Gateway_040mdww" />
    <bpmn:sequenceFlow id="Flow_1or79a1" name="Nie" sourceRef="Gateway_0osccbx" targetRef="Salon_ZlozenieZamowienia">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not carAvailableInOtherDealership}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0p0u6lg" sourceRef="Salon_RezerwacjaSamoochodu" targetRef="Salon_PrzygotowanieDoTransportu" />
    <bpmn:sequenceFlow id="Flow_01bws94" sourceRef="Salon_TransportSamochodu" targetRef="Salon_KontrolaJakosci" />
    <bpmn:sequenceFlow id="Flow_1ihxqnq" sourceRef="Salon_PrzygotowanieDoTransportu" targetRef="Salon_TransportSamochodu" />
    <bpmn:sequenceFlow id="Flow_193hndg" name="Tak" sourceRef="Gateway_0osccbx" targetRef="Salon_RezerwacjaSamoochodu">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{carAvailableInOtherDealership}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1mndl2w" name="Nie" sourceRef="Salon_CzySamochodDostepnyWSalonie" targetRef="Salon_PowiadomienieZaliczka">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not carAvailable}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0hxzd24" sourceRef="Salon_Start" targetRef="Salon_Przyjecie" />
    <bpmn:sequenceFlow id="Flow_1bbohxe" sourceRef="Salon_Przyjecie" targetRef="Salon_CzySamochodDostepnyWSalonie" />
    <bpmn:sequenceFlow id="Flow_0xqlx9v" name="Tak" sourceRef="Salon_CzySamochodDostepnyWSalonie" targetRef="Salon_PrzygotowanieSamochodu">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{carAvailable}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0nlezkx" sourceRef="Salon_PrzygotowanieSamochodu" targetRef="Salon_GotoweDoOdbioru" />
    <bpmn:sequenceFlow id="Flow_0y9ufqj" name="Nie" sourceRef="Gateway_040mdww" targetRef="Salon_OdrzucenieZamwoienia">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not carAvailableInProduction}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1jsrejh" name="Tak" sourceRef="Gateway_040mdww" targetRef="Salon_OdebranieSamochodu_Message">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{carAvailableInProduction}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0m10n9h" sourceRef="Salon_GotoweDoOdbioru" targetRef="Salon_WyslanieInfoDoKlienta" />
    <bpmn:sequenceFlow id="Flow_0tq4ocz" sourceRef="Salon_OdebranieZaliczki" targetRef="Gateway_0osccbx" />
    <bpmn:sequenceFlow id="Flow_0xzmmgl" sourceRef="Salon_KontrolaJakosci" targetRef="Salon_PrzygotowanieSamochodu" />
    <bpmn:sequenceFlow id="Flow_0smc25g" sourceRef="Salon_OdebranieSamochodu_Message" targetRef="Salon_OdebranieSamochodu" />
    <bpmn:sequenceFlow id="Flow_13ppjxs" sourceRef="Salon_OdebranieSamochodu" targetRef="Salon_KontrolaJakosci" />
    <bpmn:intermediateCatchEvent id="Event_1b01djz" name="Oczekiwanie akceptację zamówienia">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${receiveFactoryMessageService}" event="end" />
        <camunda:inputOutput>
          <camunda:outputParameter name="assignee">${dealeship}</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1kvzjtj</bpmn:incoming>
      <bpmn:outgoing>Flow_04a333u</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1n8iild" messageRef="ResponseFactory" />
    </bpmn:intermediateCatchEvent>
  </bpmn:process>
  <bpmn:process id="CAR_DEALERSHIP_FACTORY" name="Car Dealership (Fabryka)" isExecutable="true">
    <bpmn:endEvent id="Event_0kxyq8d" name="Dostarczenie samochodu">
      <bpmn:incoming>Flow_10htd3c</bpmn:incoming>
      <bpmn:messageEventDefinition id="MessageEventDefinition_180klyl" messageRef="TransportFromFactory" camunda:delegateExpression="${sendMessageDelegate}">
        <bpmn:extensionElements>
          <camunda:field name="messageName">
            <camunda:string>TransportFromFactoryMessage</camunda:string>
          </camunda:field>
          <camunda:field name="startProcess">
            <camunda:string>false</camunda:string>
          </camunda:field>
          <camunda:field name="newOrderStatus">
            <camunda:string>InTransport</camunda:string>
          </camunda:field>
          <camunda:field name="correlateProcessInstanceVar">
            <camunda:string>dealershipProcessId</camunda:string>
          </camunda:field>
        </bpmn:extensionElements>
      </bpmn:messageEventDefinition>
    </bpmn:endEvent>
    <bpmn:userTask id="Fabryka_TransportSamochoduDoSalonu" name="Zatwierdź: Transport samochodu do salonu" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:taskListener delegateExpression="${inTransport}" event="complete" id="InTransport" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1xseiw0</bpmn:incoming>
      <bpmn:outgoing>Flow_10htd3c</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sendTask id="Fabryka_WyslanieInformacjiDoSalonu" name="Wysłanie informacji do salonu" camunda:delegateExpression="${sendMessageDelegate}">
      <bpmn:extensionElements>
        <camunda:field name="messageName">
          <camunda:string>ResponseFactoryMessage</camunda:string>
        </camunda:field>
        <camunda:field name="startProcess">
          <camunda:string>false</camunda:string>
        </camunda:field>
        <camunda:field name="newOrderStatus">
          <camunda:string>null</camunda:string>
        </camunda:field>
        <camunda:field name="correlateProcessInstanceVar">
          <camunda:string>dealershipProcessId</camunda:string>
        </camunda:field>
        <camunda:inputOutput>
          <camunda:inputParameter name="carAvailableInProduction">${carAvailableInFactory == 'true' || baseConstructionAvailable == 'true' || 
productionPossible == 'true'}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ib027s</bpmn:incoming>
      <bpmn:incoming>Flow_01uw2at</bpmn:incoming>
      <bpmn:incoming>Flow_171ojmi</bpmn:incoming>
      <bpmn:incoming>Flow_13959jw</bpmn:incoming>
    </bpmn:sendTask>
    <bpmn:userTask id="Fabryka_KontrolaJakosci" name="Wykonaj: Kontrola jakości" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="factoryComments" label="Komentarz do kontroli" type="string" defaultValue="Brak uwag">
            <camunda:properties>
              <camunda:property id="fieldType" value="textArea" />
              <camunda:property id="numRows" value="5" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener delegateExpression="${factoryControlQuality}" event="complete" id="FactoryControlQuality" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1wuoupn</bpmn:incoming>
      <bpmn:incoming>Flow_11w470t</bpmn:incoming>
      <bpmn:outgoing>Flow_1xseiw0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="Event_0y8uv7x" name="Brak możliwości dostarczenia samochodu">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${factoryOrderReject}" event="start" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_03olu67</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Fabryka_ProdukcjaWyposazenia" name="Produkcja w dziale wyposażenia" camunda:delegateExpression="${equipmentProductionService}">
      <bpmn:incoming>Flow_09xeyth</bpmn:incoming>
      <bpmn:incoming>Flow_0y0oss7</bpmn:incoming>
      <bpmn:outgoing>Flow_11w470t</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Fabryka_ProdukcjaBazowa" name="Produkcja bazowa" camunda:delegateExpression="${baseProductionService}">
      <bpmn:incoming>Flow_15xhp5h</bpmn:incoming>
      <bpmn:outgoing>Flow_0y0oss7</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Fabryka_PrzyjecieZamowienia" name="Zatwierdź: Przyjęcie zamówienia na samochód" camunda:formKey="taskView" camunda:assignee="${assignee}" camunda:candidateGroups="${userGroup}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="factoryAnnotation" label="Adnotacje" type="string" />
          <camunda:formField id="carAvailableInFactory" label="Czy samochód dostępny na stanie?" type="boolean" defaultValue="true" />
          <camunda:formField id="baseConstructionAvailable" label="Czy dostępna bazowa konfiguracja?" type="boolean" defaultValue="true" />
          <camunda:formField id="productionPossible" label="Czy możliwa produkcja?" type="boolean" defaultValue="true" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0tzotny</bpmn:incoming>
      <bpmn:outgoing>Flow_01l4adq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:parallelGateway id="Gateway_1ixyxnd">
      <bpmn:incoming>Flow_0fdgvbw</bpmn:incoming>
      <bpmn:outgoing>Flow_13959jw</bpmn:outgoing>
      <bpmn:outgoing>Flow_03olu67</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:parallelGateway id="Gateway_1edptr2">
      <bpmn:incoming>Flow_0ikpwh0</bpmn:incoming>
      <bpmn:outgoing>Flow_0ib027s</bpmn:outgoing>
      <bpmn:outgoing>Flow_15xhp5h</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:parallelGateway id="Gateway_0x9pqw4">
      <bpmn:incoming>Flow_09aslhz</bpmn:incoming>
      <bpmn:outgoing>Flow_171ojmi</bpmn:outgoing>
      <bpmn:outgoing>Flow_1wuoupn</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:exclusiveGateway id="Gateway_0co6ne6" name="Czy możliwa produkcja bazowa?">
      <bpmn:incoming>Flow_0wc9b6p</bpmn:incoming>
      <bpmn:outgoing>Flow_0ikpwh0</bpmn:outgoing>
      <bpmn:outgoing>Flow_0fdgvbw</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_0sgthmr" name="Czy samochód dostępny na stanie?">
      <bpmn:incoming>Flow_01l4adq</bpmn:incoming>
      <bpmn:outgoing>Flow_09aslhz</bpmn:outgoing>
      <bpmn:outgoing>Flow_1izxqma</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:startEvent id="Fabryka_Start" name="Odebranie zamówienia">
      <bpmn:extensionElements>
        <camunda:executionListener delegateExpression="${runFactoryService}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_0tzotny</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_AskFactory" messageRef="AskFactory" />
    </bpmn:startEvent>
    <bpmn:exclusiveGateway id="Gateway_12b2859" name="Czy dostępna bazowa konfiguracja?">
      <bpmn:incoming>Flow_1izxqma</bpmn:incoming>
      <bpmn:outgoing>Flow_00ya6db</bpmn:outgoing>
      <bpmn:outgoing>Flow_0wc9b6p</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:parallelGateway id="Gateway_0tr6d1v">
      <bpmn:incoming>Flow_00ya6db</bpmn:incoming>
      <bpmn:outgoing>Flow_01uw2at</bpmn:outgoing>
      <bpmn:outgoing>Flow_09xeyth</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_10htd3c" sourceRef="Fabryka_TransportSamochoduDoSalonu" targetRef="Event_0kxyq8d" />
    <bpmn:sequenceFlow id="Flow_03olu67" sourceRef="Gateway_1ixyxnd" targetRef="Event_0y8uv7x" />
    <bpmn:sequenceFlow id="Flow_13959jw" sourceRef="Gateway_1ixyxnd" targetRef="Fabryka_WyslanieInformacjiDoSalonu" />
    <bpmn:sequenceFlow id="Flow_0tzotny" sourceRef="Fabryka_Start" targetRef="Fabryka_PrzyjecieZamowienia" />
    <bpmn:sequenceFlow id="Flow_1xseiw0" sourceRef="Fabryka_KontrolaJakosci" targetRef="Fabryka_TransportSamochoduDoSalonu" />
    <bpmn:sequenceFlow id="Flow_01l4adq" sourceRef="Fabryka_PrzyjecieZamowienia" targetRef="Gateway_0sgthmr" />
    <bpmn:sequenceFlow id="Flow_09aslhz" name="Tak" sourceRef="Gateway_0sgthmr" targetRef="Gateway_0x9pqw4">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{carAvailableInFactory}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_171ojmi" sourceRef="Gateway_0x9pqw4" targetRef="Fabryka_WyslanieInformacjiDoSalonu" />
    <bpmn:sequenceFlow id="Flow_1wuoupn" sourceRef="Gateway_0x9pqw4" targetRef="Fabryka_KontrolaJakosci" />
    <bpmn:sequenceFlow id="Flow_1izxqma" name="Nie" sourceRef="Gateway_0sgthmr" targetRef="Gateway_12b2859">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not carAvailableInFactory}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_00ya6db" name="Tak" sourceRef="Gateway_12b2859" targetRef="Gateway_0tr6d1v">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{baseConstructionAvailable}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_01uw2at" sourceRef="Gateway_0tr6d1v" targetRef="Fabryka_WyslanieInformacjiDoSalonu" />
    <bpmn:sequenceFlow id="Flow_09xeyth" sourceRef="Gateway_0tr6d1v" targetRef="Fabryka_ProdukcjaWyposazenia" />
    <bpmn:sequenceFlow id="Flow_11w470t" sourceRef="Fabryka_ProdukcjaWyposazenia" targetRef="Fabryka_KontrolaJakosci" />
    <bpmn:sequenceFlow id="Flow_0ikpwh0" name="Tak" sourceRef="Gateway_0co6ne6" targetRef="Gateway_1edptr2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${productionPossible}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0wc9b6p" name="Nie" sourceRef="Gateway_12b2859" targetRef="Gateway_0co6ne6">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{not baseConstructionAvailable}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ib027s" sourceRef="Gateway_1edptr2" targetRef="Fabryka_WyslanieInformacjiDoSalonu" />
    <bpmn:sequenceFlow id="Flow_15xhp5h" sourceRef="Gateway_1edptr2" targetRef="Fabryka_ProdukcjaBazowa" />
    <bpmn:sequenceFlow id="Flow_0y0oss7" sourceRef="Fabryka_ProdukcjaBazowa" targetRef="Fabryka_ProdukcjaWyposazenia" />
    <bpmn:sequenceFlow id="Flow_0fdgvbw" name="Nie" sourceRef="Gateway_0co6ne6" targetRef="Gateway_1ixyxnd">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${not productionPossible}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
  </bpmn:process>
  <bpmn:message id="AskFactory" name="AskFactoryMessage" />
  <bpmn:message id="AskDealership" name="AskDealershipMessage" />
  <bpmn:message id="ResponseFactory" name="ResponseFactoryMessage" />
  <bpmn:message id="TransportFromFactory" name="TransportFromFactoryMessage" />
  <bpmn:message id="WaitingForCollection" name="WaitingForCollectionMessage" />
  <bpmn:message id="OrderReject" name="OrderRejectMessage" />
  <bpmn:message id="Message_0xp12su" />
  <bpmn:message id="Message_1e90ev6" name="AdvancePaymentNotificationMessage" />
  <bpmn:message id="Message_1lercw1" name="ApproveAdvancePaymentMessage" />
  <bpmn:message id="Message_18q60mk" name="CancellationForFactoryMessage" />
  <bpmn:message id="Message_0per3tu" name="CancellationByClientMessage" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_16ikafs">
      <bpmndi:BPMNShape id="Participant_1stwjmk_di" bpmnElement="Participant_1stwjmk" isHorizontal="true">
        <dc:Bounds x="610" y="80" width="2200" height="360" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0p54urb_di" bpmnElement="Flow_0p54urb">
        <di:waypoint x="2090" y="320" />
        <di:waypoint x="2220" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1acdvot_di" bpmnElement="Flow_1acdvot">
        <di:waypoint x="718" y="320" />
        <di:waypoint x="750" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10g07bx_di" bpmnElement="Flow_10g07bx">
        <di:waypoint x="1590" y="320" />
        <di:waypoint x="1630" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06mjwsu_di" bpmnElement="Flow_06mjwsu">
        <di:waypoint x="1730" y="320" />
        <di:waypoint x="1800" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1z0cv6z_di" bpmnElement="Flow_1z0cv6z">
        <di:waypoint x="2320" y="320" />
        <di:waypoint x="2480" y="320" />
        <di:waypoint x="2480" y="288" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1deqyxk_di" bpmnElement="Flow_1deqyxk">
        <di:waypoint x="1900" y="320" />
        <di:waypoint x="1990" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_062qcqg_di" bpmnElement="Flow_062qcqg">
        <di:waypoint x="2090" y="262" />
        <di:waypoint x="2090" y="200" />
        <di:waypoint x="2480" y="200" />
        <di:waypoint x="2480" y="252" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vpklme_di" bpmnElement="Flow_1vpklme">
        <di:waypoint x="1538" y="130" />
        <di:waypoint x="1590" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1f2n8i8_di" bpmnElement="Flow_1f2n8i8">
        <di:waypoint x="1690" y="130" />
        <di:waypoint x="1742" y="130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_16v54jy_di" bpmnElement="Klient_OdebranieSamochodu">
        <dc:Bounds x="2220" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_13ynu74_di" bpmnElement="Event_13ynu74">
        <dc:Bounds x="682" y="302" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668" y="345" width="64" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0jsni87_di" bpmnElement="Klient_ZlozenieZamowienia">
        <dc:Bounds x="1630" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0aqo134_di" bpmnElement="Klient_WyslanieZamowienia">
        <dc:Bounds x="1800" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0b0p2bu_di" bpmnElement="Klient_Zaliczka_Start">
        <dc:Bounds x="1502" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1484" y="155" width="80" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0qi65ke_di" bpmnElement="Klient_Zaliczka_Koniec">
        <dc:Bounds x="1742" y="112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1717" y="155" width="90" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qff49g_di" bpmnElement="Klient_ZaplacZaliczke">
        <dc:Bounds x="1590" y="90" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1aym1iv_di" bpmnElement="Klient_OczekiwanieNaZamowienie">
        <dc:Bounds x="1990" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_01kmaaq_di" bpmnElement="Klient_Zakonczenie">
        <dc:Bounds x="2462" y="252" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2510" y="257" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15t0t8f_di" bpmnElement="Klient_Konfiguracja" isExpanded="true">
        <dc:Bounds x="750" y="220" width="840" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0t4s1fg_di" bpmnElement="Flow_0t4s1fg">
        <di:waypoint x="1500" y="320" />
        <di:waypoint x="1532" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1v6tyn2_di" bpmnElement="Flow_1v6tyn2">
        <di:waypoint x="818" y="320" />
        <di:waypoint x="850" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dkx2f6_di" bpmnElement="Flow_0dkx2f6">
        <di:waypoint x="1370" y="320" />
        <di:waypoint x="1400" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ji1hqm_di" bpmnElement="Flow_0ji1hqm">
        <di:waypoint x="1230" y="320" />
        <di:waypoint x="1270" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wyqfm4_di" bpmnElement="Flow_0wyqfm4">
        <di:waypoint x="1090" y="320" />
        <di:waypoint x="1130" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0z0inah_di" bpmnElement="Flow_0z0inah">
        <di:waypoint x="950" y="320" />
        <di:waypoint x="990" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1yyhf9t_di" bpmnElement="Event_1yyhf9t">
        <dc:Bounds x="782" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1ejmm5y_di" bpmnElement="Event_1ejmm5y">
        <dc:Bounds x="1532" y="302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_081hz3s_di" bpmnElement="Klient_Konfiguracja_Model">
        <dc:Bounds x="850" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_10t3bo3_di" bpmnElement="Klient_Konfiguracja_Silnik">
        <dc:Bounds x="990" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1smry5p_di" bpmnElement="Klient_Konfiguracja_TypNadwozia">
        <dc:Bounds x="1130" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0eqe1vv_di" bpmnElement="Klient_Konfiguracja_SkrzyniaBiegow">
        <dc:Bounds x="1270" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1uupih8_di" bpmnElement="Klient_Konfiguracja_WyposazenieDodatkowe">
        <dc:Bounds x="1400" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_16mb0xs_di" bpmnElement="Klient_OdebranieOdrzucenia">
        <dc:Bounds x="2072" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2111" y="230" width="59" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_019rtvj_di" bpmnElement="Participant_019rtvj" isHorizontal="true">
        <dc:Bounds x="160" y="490" width="2650" height="880" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0lqo2p5_di" bpmnElement="Flow_0lqo2p5">
        <di:waypoint x="970" y="626" />
        <di:waypoint x="970" y="660" />
        <di:waypoint x="570" y="660" />
        <di:waypoint x="570" y="790" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_051sr0h_di" bpmnElement="Flow_051sr0h">
        <di:waypoint x="1112" y="840" />
        <di:waypoint x="1019" y="840" />
        <di:waypoint x="1019" y="1001" />
        <di:waypoint x="925" y="1001" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16zxbp5_di" bpmnElement="Flow_16zxbp5">
        <di:waypoint x="1112" y="760" />
        <di:waypoint x="570" y="760" />
        <di:waypoint x="570" y="790" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ict2hd_di" bpmnElement="Flow_1ict2hd">
        <di:waypoint x="1180" y="688" />
        <di:waypoint x="1180" y="760" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mvzxsi_di" bpmnElement="Flow_1mvzxsi">
        <di:waypoint x="1780" y="1290" />
        <di:waypoint x="1780" y="1320" />
        <di:waypoint x="745" y="1320" />
        <di:waypoint x="745" y="1230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kvzjtj_di" bpmnElement="Flow_1kvzjtj">
        <di:waypoint x="1390" y="1130" />
        <di:waypoint x="1572" y="1130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10l6mti_di" bpmnElement="Flow_10l6mti">
        <di:waypoint x="1340" y="1020" />
        <di:waypoint x="1340" y="1090" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04a333u_di" bpmnElement="Flow_04a333u">
        <di:waypoint x="1608" y="1130" />
        <di:waypoint x="1755" y="1130" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1or79a1_di" bpmnElement="Flow_1or79a1">
        <di:waypoint x="1340" y="825" />
        <di:waypoint x="1340" y="940" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1347" y="899" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p0u6lg_di" bpmnElement="Flow_0p0u6lg">
        <di:waypoint x="1580" y="800" />
        <di:waypoint x="1640" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01bws94_di" bpmnElement="Flow_01bws94">
        <di:waypoint x="1900" y="800" />
        <di:waypoint x="1960" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ihxqnq_di" bpmnElement="Flow_1ihxqnq">
        <di:waypoint x="1740" y="800" />
        <di:waypoint x="1800" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_193hndg_di" bpmnElement="Flow_193hndg">
        <di:waypoint x="1365" y="800" />
        <di:waypoint x="1480" y="800" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1414" y="782" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mndl2w_di" bpmnElement="Flow_1mndl2w">
        <di:waypoint x="1180" y="593" />
        <di:waypoint x="1180" y="652" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1187" y="620" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0hxzd24_di" bpmnElement="Flow_0hxzd24">
        <di:waypoint x="878" y="568" />
        <di:waypoint x="970" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1bbohxe_di" bpmnElement="Flow_1bbohxe">
        <di:waypoint x="1070" y="568" />
        <di:waypoint x="1155" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xqlx9v_di" bpmnElement="Flow_0xqlx9v">
        <di:waypoint x="1205" y="568" />
        <di:waypoint x="1960" y="568" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1385" y="550" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nlezkx_di" bpmnElement="Flow_0nlezkx">
        <di:waypoint x="2060" y="568" />
        <di:waypoint x="2550" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y9ufqj_di" bpmnElement="Flow_0y9ufqj">
        <di:waypoint x="1780" y="1155" />
        <di:waypoint x="1780" y="1210" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1791" y="1191" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jsrejh_di" bpmnElement="Flow_1jsrejh">
        <di:waypoint x="1805" y="1130" />
        <di:waypoint x="1960" y="1130" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1806" y="1113" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m10n9h_di" bpmnElement="Flow_0m10n9h">
        <di:waypoint x="2650" y="568" />
        <di:waypoint x="2722" y="568" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tq4ocz_di" bpmnElement="Flow_0tq4ocz">
        <di:waypoint x="1230" y="800" />
        <di:waypoint x="1315" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xzmmgl_di" bpmnElement="Flow_0xzmmgl">
        <di:waypoint x="2010" y="760" />
        <di:waypoint x="2010" y="608" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0smc25g_di" bpmnElement="Flow_0smc25g">
        <di:waypoint x="2010" y="1090" />
        <di:waypoint x="2010" y="1010" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13ppjxs_di" bpmnElement="Flow_13ppjxs">
        <di:waypoint x="2010" y="930" />
        <di:waypoint x="2010" y="840" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1uawrim_di" bpmnElement="Salon_WyslanieInfoDoKlienta">
        <dc:Bounds x="2722" y="550" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2709" y="593" width="63" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1e2b8uf_di" bpmnElement="Salon_GotoweDoOdbioru">
        <dc:Bounds x="2550" y="528" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1bqkw9p_di" bpmnElement="Salon_PowiadomienieZaliczka">
        <dc:Bounds x="1162" y="652" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1065" y="660" width="84" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0gnxckk_di" bpmnElement="Salon_OdebranieZaliczki">
        <dc:Bounds x="1130" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0osccbx_di" bpmnElement="Gateway_0osccbx" isMarkerVisible="true">
        <dc:Bounds x="1315" y="775" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1295" y="730" width="89" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_04b9a63_di" bpmnElement="Salon_ZlozenieZamowienia">
        <dc:Bounds x="1290" y="940" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0w7peua_di" bpmnElement="Salon_RezerwacjaSamoochodu">
        <dc:Bounds x="1480" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1596jsu_di" bpmnElement="Salon_PrzygotowanieDoTransportu">
        <dc:Bounds x="1640" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dsdudm_di" bpmnElement="Salon_TransportSamochodu">
        <dc:Bounds x="1800" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0868cn1_di" bpmnElement="Salon_PrzygotowanieSamochodu">
        <dc:Bounds x="1960" y="528" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0x82qv8_di" bpmnElement="Salon_OdebranieSamochodu_Message">
        <dc:Bounds x="1960" y="1090" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0m7of8p_di" bpmnElement="Salon_KontrolaJakosci">
        <dc:Bounds x="1960" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sjzlva_di" bpmnElement="Salon_OdebranieSamochodu">
        <dc:Bounds x="1960" y="930" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_040mdww_di" bpmnElement="Gateway_040mdww" isMarkerVisible="true">
        <dc:Bounds x="1755" y="1105" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1749" y="1055" width="63" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16mworn_di" bpmnElement="Salon_OdrzucenieZamwoienia">
        <dc:Bounds x="1730" y="1210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1eoly0v_di" bpmnElement="Activity_1eoly0v">
        <dc:Bounds x="1290" y="1090" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1b01djz_di" bpmnElement="Event_1b01djz">
        <dc:Bounds x="1572" y="1112" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1558" y="1062" width="63" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1nsek75_di" bpmnElement="Salon_Start">
        <dc:Bounds x="842" y="550" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="832" y="593" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_006vqit_di" bpmnElement="Salon_Przyjecie">
        <dc:Bounds x="970" y="528" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0hlgtnc_di" bpmnElement="Salon_CzySamochodDostepnyWSalonie" isMarkerVisible="true">
        <dc:Bounds x="1155" y="543" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1144" y="502" width="74" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1f7cwv7_di" bpmnElement="Salon_Anulowanie" isExpanded="true">
        <dc:Bounds x="215" y="790" width="710" height="440" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1nzq1xe_di" bpmnElement="Flow_1nzq1xe">
        <di:waypoint x="291" y="900" />
        <di:waypoint x="350" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12rjhds_di" bpmnElement="Flow_12rjhds">
        <di:waypoint x="400" y="900" />
        <di:waypoint x="460" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ktakcs_di" bpmnElement="Flow_0ktakcs">
        <di:waypoint x="375" y="925" />
        <di:waypoint x="375" y="1080" />
        <di:waypoint x="460" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_136fgwk_di" bpmnElement="Flow_136fgwk">
        <di:waypoint x="510" y="900" />
        <di:waypoint x="577" y="900" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="534" y="882" width="19" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ec1ub9_di" bpmnElement="Flow_0ec1ub9">
        <di:waypoint x="485" y="925" />
        <di:waypoint x="485" y="980" />
        <di:waypoint x="577" y="980" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="492" y="950" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08lrkwj_di" bpmnElement="Flow_08lrkwj">
        <di:waypoint x="510" y="1080" />
        <di:waypoint x="590" y="1080" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="517" y="1062" width="72" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sq3vk8_di" bpmnElement="Flow_1sq3vk8">
        <di:waypoint x="485" y="1105" />
        <di:waypoint x="485" y="1190" />
        <di:waypoint x="577" y="1190" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="486" y="1145" width="29" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0htd62w_di" bpmnElement="Flow_0htd62w">
        <di:waypoint x="640" y="1080" />
        <di:waypoint x="715" y="1080" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668" y="1062" width="19" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ndxxq6_di" bpmnElement="Flow_1ndxxq6">
        <di:waypoint x="615" y="1055" />
        <di:waypoint x="615" y="1020" />
        <di:waypoint x="875" y="1020" />
        <di:waypoint x="875" y="1062" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="737" y="1002" width="17" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x4bs0v_di" bpmnElement="Flow_1x4bs0v">
        <di:waypoint x="815" y="1080" />
        <di:waypoint x="857" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0biyqey_di" bpmnElement="Anulowanie_Start">
        <dc:Bounds x="255" y="882" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0du8pfa_di" bpmnElement="Anulowanie_Gateway1">
        <dc:Bounds x="350" y="875" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_005nh01_di" bpmnElement="Anulowanie_Gateway2" isMarkerVisible="true">
        <dc:Bounds x="460" y="875" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="442" y="838" width="85" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0busm3s_di" bpmnElement="Anulowanie_Gateway3" isMarkerVisible="true">
        <dc:Bounds x="460" y="1055" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="383" y="1103" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_15c1yi6_di" bpmnElement="Anulowanie_Gateway4" isMarkerVisible="true">
        <dc:Bounds x="590" y="1055" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="581" y="1112" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1lnblcb_di" bpmnElement="Anulowanie_Koniec">
        <dc:Bounds x="577" y="1172" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00htpdk_di" bpmnElement="Anulowanie_WiadomoscFabryka">
        <dc:Bounds x="577" y="882" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="620" y="882" width="72" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_12dwh6x_di" bpmnElement="Anulowanie_ZwrotZaliczki">
        <dc:Bounds x="715" y="1040" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0nj5lvc_di" bpmnElement="Anulowanie_WiadomoscKlient">
        <dc:Bounds x="857" y="1062" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="832" y="1105" width="87" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_07z3rbd_di" bpmnElement="Event_07z3rbd">
        <dc:Bounds x="577" y="962" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1s1ymas_di" bpmnElement="Salon_mAnulowanie1">
        <dc:Bounds x="952" y="590" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="982" y="626" width="57" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_00ik4dl_di" bpmnElement="Salon_Timer1">
        <dc:Bounds x="1112" y="742" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1102" y="712" width="57" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1io28yp_di" bpmnElement="Salon_mAnulowanie2">
        <dc:Bounds x="1112" y="822" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1102" y="865" width="56" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1p8kbk3_di" bpmnElement="Participant_1p8kbk3" isHorizontal="true">
        <dc:Bounds x="610" y="1530" width="2200" height="659" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_10htd3c_di" bpmnElement="Flow_10htd3c">
        <di:waypoint x="2480" y="1630" />
        <di:waypoint x="2582" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03olu67_di" bpmnElement="Flow_03olu67">
        <di:waypoint x="1835" y="2149" />
        <di:waypoint x="2052" y="2149" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13959jw_di" bpmnElement="Flow_13959jw">
        <di:waypoint x="1810" y="2124" />
        <di:waypoint x="1810" y="1630" />
        <di:waypoint x="2010" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tzotny_di" bpmnElement="Flow_0tzotny">
        <di:waypoint x="1618" y="1630" />
        <di:waypoint x="1680" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1xseiw0_di" bpmnElement="Flow_1xseiw0">
        <di:waypoint x="2340" y="1789" />
        <di:waypoint x="2430" y="1789" />
        <di:waypoint x="2430" y="1670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01l4adq_di" bpmnElement="Flow_01l4adq">
        <di:waypoint x="1730" y="1670" />
        <di:waypoint x="1730" y="1764" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09aslhz_di" bpmnElement="Flow_09aslhz">
        <di:waypoint x="1755" y="1789" />
        <di:waypoint x="1945" y="1789" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1840" y="1771" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_171ojmi_di" bpmnElement="Flow_171ojmi">
        <di:waypoint x="1970" y="1764" />
        <di:waypoint x="1970" y="1630" />
        <di:waypoint x="2010" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wuoupn_di" bpmnElement="Flow_1wuoupn">
        <di:waypoint x="1995" y="1789" />
        <di:waypoint x="2240" y="1789" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1izxqma_di" bpmnElement="Flow_1izxqma">
        <di:waypoint x="1730" y="1814" />
        <di:waypoint x="1730" y="1895" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1737" y="1851" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_00ya6db_di" bpmnElement="Flow_00ya6db">
        <di:waypoint x="1755" y="1920" />
        <di:waypoint x="1895" y="1920" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1781" y="1902" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01uw2at_di" bpmnElement="Flow_01uw2at">
        <di:waypoint x="1920" y="1895" />
        <di:waypoint x="1920" y="1630" />
        <di:waypoint x="2010" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09xeyth_di" bpmnElement="Flow_09xeyth">
        <di:waypoint x="1945" y="1920" />
        <di:waypoint x="2100" y="1920" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11w470t_di" bpmnElement="Flow_11w470t">
        <di:waypoint x="2200" y="1920" />
        <di:waypoint x="2290" y="1920" />
        <di:waypoint x="2290" y="1829" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ikpwh0_di" bpmnElement="Flow_0ikpwh0">
        <di:waypoint x="1755" y="2039" />
        <di:waypoint x="1845" y="2039" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1781" y="2021" width="19" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wc9b6p_di" bpmnElement="Flow_0wc9b6p">
        <di:waypoint x="1730" y="1945" />
        <di:waypoint x="1730" y="2014" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1737" y="1978" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ib027s_di" bpmnElement="Flow_0ib027s">
        <di:waypoint x="1870" y="2014" />
        <di:waypoint x="1870" y="1630" />
        <di:waypoint x="2010" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15xhp5h_di" bpmnElement="Flow_15xhp5h">
        <di:waypoint x="1895" y="2039" />
        <di:waypoint x="1950" y="2039" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0y0oss7_di" bpmnElement="Flow_0y0oss7">
        <di:waypoint x="2050" y="2039" />
        <di:waypoint x="2150" y="2039" />
        <di:waypoint x="2150" y="1960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fdgvbw_di" bpmnElement="Flow_0fdgvbw">
        <di:waypoint x="1730" y="2064" />
        <di:waypoint x="1730" y="2149" />
        <di:waypoint x="1785" y="2149" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1737" y="2104" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0kxyq8d_di" bpmnElement="Event_0kxyq8d">
        <dc:Bounds x="2582" y="1612" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2567" y="1658" width="65" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17i9bsd_di" bpmnElement="Fabryka_TransportSamochoduDoSalonu">
        <dc:Bounds x="2380" y="1590" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16d41f9_di" bpmnElement="Fabryka_WyslanieInformacjiDoSalonu">
        <dc:Bounds x="2010" y="1590" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0kupd2o_di" bpmnElement="Fabryka_KontrolaJakosci">
        <dc:Bounds x="2240" y="1749" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0y8uv7x_di" bpmnElement="Event_0y8uv7x">
        <dc:Bounds x="2052" y="2131" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2100" y="2129" width="79" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1k86u2x_di" bpmnElement="Fabryka_ProdukcjaWyposazenia">
        <dc:Bounds x="2100" y="1880" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16iagbt_di" bpmnElement="Fabryka_ProdukcjaBazowa">
        <dc:Bounds x="1950" y="1999" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0626op3_di" bpmnElement="Fabryka_PrzyjecieZamowienia">
        <dc:Bounds x="1680" y="1590" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0go4b29_di" bpmnElement="Gateway_1ixyxnd">
        <dc:Bounds x="1785" y="2124" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_16i18mn_di" bpmnElement="Gateway_1edptr2">
        <dc:Bounds x="1845" y="2014" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0as7k99_di" bpmnElement="Gateway_0x9pqw4">
        <dc:Bounds x="1945" y="1764" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0co6ne6_di" bpmnElement="Gateway_0co6ne6" isMarkerVisible="true">
        <dc:Bounds x="1705" y="2014" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1626" y="2019" width="63" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0sgthmr_di" bpmnElement="Gateway_0sgthmr" isMarkerVisible="true">
        <dc:Bounds x="1705" y="1764" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1621" y="1769" width="74" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1uf6sdl_di" bpmnElement="Fabryka_Start">
        <dc:Bounds x="1582" y="1612" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1571" y="1655" width="59" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_12b2859_di" bpmnElement="Gateway_12b2859" isMarkerVisible="true">
        <dc:Bounds x="1705" y="1895" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1616" y="1910" width="68" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_14q9ixm_di" bpmnElement="Gateway_0tr6d1v">
        <dc:Bounds x="1895" y="1895" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0mex7uu_di" bpmnElement="Flow_0mex7uu">
        <di:waypoint x="1850" y="360" />
        <di:waypoint x="1850" y="470" />
        <di:waypoint x="860" y="470" />
        <di:waypoint x="860" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qy2p1l_di" bpmnElement="Flow_1qy2p1l">
        <di:waypoint x="2740" y="550" />
        <di:waypoint x="2740" y="470" />
        <di:waypoint x="2040" y="470" />
        <di:waypoint x="2040" y="360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0hupi12_di" bpmnElement="Flow_0hupi12">
        <di:waypoint x="2600" y="1612" />
        <di:waypoint x="2600" y="1440" />
        <di:waypoint x="2020" y="1440" />
        <di:waypoint x="2020" y="1170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1uuc7ou_di" bpmnElement="Flow_1uuc7ou">
        <di:waypoint x="1340" y="1170" />
        <di:waypoint x="1340" y="1630" />
        <di:waypoint x="1582" y="1630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18xshp5_di" bpmnElement="Flow_18xshp5">
        <di:waypoint x="2060" y="1590" />
        <di:waypoint x="2060" y="1490" />
        <di:waypoint x="1590" y="1490" />
        <di:waypoint x="1590" y="1148" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
